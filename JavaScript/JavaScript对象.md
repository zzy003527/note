## JavaScript对象

- 什么是对象？

  - 在JavaScript中，对象是一组无序的相关**属性和方法**的集合，所有事物都是对象，例如字符串、数值、数组、函数等
  - 对象是由**属性和方法**组成的
    - 属性：事物的**特征**，在对象中用**属性**来表示（常用名词）
    - 方法：事物的**行为**，在对象中用**方法**来表示（常用动词）

- 创建对象的方式

  - 利用**字面量**创建对象

    - **对象字面量**：就是花括号{}里面包含了表达这个具体事物（对象）的属性和方法

    - ```js
      var obj = {}        //创建了一个空的对象
      var obj = {
          uname：'张三丰'，
          age：18，
          sex：'男'，
          sayHi：function（）{
                console.log('hi~');
      }
      }
      ```

      - 里面的属性或者方法我们采取键值对的形式    **键 （ 属性名 ）：  值 （ 属性值）**
      
      - **多个属性或者方法中间我们用<u>逗号</u>隔开**
      
      - 方法冒号后面跟的是一个匿名函数
      
    - 使用对象

      - 调用对象的属性，我们采取  对象名.属性名

        ```js
        console.log(obj.uname);
        ```

      - 对象名['属性名']

        ```js
        console.log(obj['age'])
        ```

      - 对象名.方法名**(别忘了加小括号)**

        ```js
        obj.sayHi();             
        ```

  - 利用new Object创建对象

    - 代码：

      ```js
      var obj = new Object();       //创建了一个空的对象
      obj.uname = '张三丰'；
      obj.age = '18';
      obj.sex = '男'；
      obj.sayHi = function() {
              console.log('hi~');
      }
      ```

    - 我们是利用等号 = 赋值的方法，添加对象的属性和方法

    - 每个属性和方法之间用**分号**结束

  - 利用构造函数创建对象

    - 为什么需要使用构造函数？

      - 因为前面两种方式一次只能创建一个对象
      - 构造函数，就是把对象里面一些相同的属性和方法抽象出来封装到函数里面

    - 构造函数的语法格式

      - ```js
        function 构造函数名（属性1，属性2，属性3） {
                 this.属性 = 值；
                 this.方法 = function（）{}
        }
        var 变量 = new 构造函数名（属性值1，属性值2，属性值3）；
        变量.方法('方法参数');
        ```

      - 注意：1.构造函数名首字母要大写     2.构造函数不需要return就可以返回结果（**返回的是一个对象**）

        ​        3.调用构造函数必须使用new    4.我们只要new 属性名（），调用函数就创建了一个对象

    - 构造函数和对象的区别

      - 构造函数，如Stars（），抽象了对象的公共部分，封装到了函数里面，它泛指某一大类（class）
      - 创建对象，如new Stars（），特指某一个，通过new关键字创建对象的过程我们也称为对象实例化

  - new关键字的执行过程

    - new构造函数可以在内存中创建了一个空的对象
    - this就会指向刚才创建的空对象
    - 执行构造函数里面的代码，给这个对象添加属性和方法
    - 返回这个对象

  - <u>遍历对象属性</u>

    - for  in 遍历对象

    - ```js
      for （变量  in  对象） {
      }
      
      for （var k in obj) {
          console.log(k);       //k变量输出的是属性名
          console.log(obj[k]);    //obj[k]得到的是属性值
      }
      
      ```

      

- 变量、属性、函数、方法的区别

  - 变量和属性的相同点：他们都是用来存储数据的
  - 不同点：变量是单独声明并赋值的，使用时直接写变量名，单独存在；属性是在对象里面的不需要声明的，使用的时候必须是 对象.属性
  - 函数和方法的相同点：都是实现某种功能，做某件事
  - 不同点：函数是单独声明并调用的，单独存在；方法是在对象里面的，调用的时候是对象.方法（）




- 内置对象
  - JavaScript中的对象分为3种：自定义对象、内置对象、浏览器对象
  - 前两种是JS基础内容，属于ECMAScript；第三个浏览器对象属于JS独有
  - 内置对象就是指JS语言自带的一些对象，这些对象供开发者使用，并提供了一些常用的或是最基本而必要的功能（属性和方法）



- 查阅MDN文档

  - MDN：https://developer.mozilla.org/zh-CN/

  - 如何学习对象中的方法

    - 查阅该方法的功能
    - 查看里面参数的意义及类型（[]为可有可无的）
    - 查看返回值的意义和类型
    - 通过demo进行测试

    

- Math对象

  - Math数学对象不是一个构造函数，所以我们不需要new来调用，而是直接使用里面的属性和方法

    - | Math.PI                 | 圆周率                                       |
      | ----------------------- | -------------------------------------------- |
      | Math.floor()            | 向下取整                                     |
      | Math.ceil()             | 向上取整                                     |
      | Math.round()            | 四舍五入，就近取整；注意：-3.5   结果是   -3 |
      | Math.abs()              | 绝对值                                       |
      | Math.max() / Math.min() | 求最大和最小值                               |

  - 随机数方法

    - Math.random()
    - 返回一个随机的小数，范围在【0，1）
    - 这个方法里面不跟参数
    - 得到两个数之间的随机整数，并且包含这两个数：Math.floor(Math.random() * (max - min + 1)) + min;

    

- 日期对象

  - 是一个构造函数，必须使用new来调用日期对象

  - ```js
    var date = new Date();
    console.log(date);
    ```

  - 如果Date没有参数，则返回当前时间

  - 参数的常用写法

    - 数字型：2019，10，01
    - 字符串型:  '2019-10-1 8:8:8'     或者    '2019/5/1'

  - 日期格式化

    - | 方法名        | 说明                         | 代码               |
      | ------------- | ---------------------------- | ------------------ |
      | getFullYear() | 获取当年                     | dObj.getFullYear() |
      | getMonth()    | 获取当月（0---11）           | dObj.getMonth()    |
      | getDate()     | 获取当天日期                 | dObj.getDate()     |
      | getDay()      | 获取星期几（周日0  到周六6） | dObj.getDay()      |
      | getHours()    | 获取当前小时                 | dObj.getHours()    |
      | getMinutes()  | 获取当前分钟                 | dObj.getMinutes()  |
      | getSeconds()  | 获取当前秒钟                 | dObj.getSeconds()  |

  - 获取日期的总的毫秒形式

    - 获取从1970.1.1至今总的毫秒数

    - 写法：

      ```js
      1.通过valueOf()   getTime()
      var date = new Date();
      console.log(date.valueOf());
      console.log(date.getTime());
      
      2.简单的写法（最常用的写法）
      var date1 = +new Date();   //+new Date（）返回的就是总的毫秒数
      console.log(date1);
      
      3. H5新增的 获得总的毫秒数
      console.log(Date.now());
      ```

    

- 数组对象

  - 检测是否为数组

    - instanceof 运算符，可以用来检测是否为数组（返回true或false）

      ```js
      var arr = [];
      var obj = {};
      console.log(arr instanceof Array);            //输出true
      console.log(obj instanceof Array);            //输出false
      ```

    - Array.isArray(参数)

      ```js
      console.log(Array.isArray(arr));
      console.log(Array.isArray(obj));
      ```

      

  - 添加删除数组元素的方法

    - | 方法名               | 说明                                                    | <u>返回值</u>        |
      | -------------------- | ------------------------------------------------------- | -------------------- |
      | push（参数1....）    | **末尾**添加一个或多个元素，注意修改原数组              | 并返回新的长度       |
      | pop（）              | 删除数组最后一个元素，把数组长度减1。无参数，修改原数组 | 返回它删除的元素的值 |
      | unshift（参数1....） | 在**数组的开头**添加一个或更多元素，注意修改原数组      | 并返回新的长度       |
      | shift（）            | 删除数组的第一个元素，数组长度减1。无参数，修改原数组   | 并返回第一个元素的值 |

    - ```js
      var arr = [1,2,3];
      arr.push(4,5);
      arr.unshift(6,7);
      arr.pop();
      arr.shift();
      ```

      

  - 数组排序

    - | 方法名      | 说明                         | 是否修改原数组                     |
      | ----------- | ---------------------------- | ---------------------------------- |
      | reverse（） | 颠倒数组中元素的顺序，无参数 | 该方法会修改原来的数组，返回新数组 |
      | sort（）    | 对数组中的元素进行排序       | 该方法会改变原来的数组，返回新数组 |

    - ```js
      1.翻转数组
      var arr = [1,2,3,8,7,4,3,5];
      arr.reverse();
      console.log(arr);
      
      2.数组排序（冒泡排序）
      var arr1 = [13,4,77,1,7]
      arr1.sort(function(a,b) {
               // return a - b;       升序排列
          return b - a;       //降序排列
      });
      console.log(arr1);
      ```

      

  - 数组索引方法

    - | 方法名          | 说明                                           | 返回值                                                       |
      | --------------- | ---------------------------------------------- | ------------------------------------------------------------ |
      | indexOf（）     | 数组中查找给定元素的第一个索引(从前面开始查找) | 如果存在，返回索引号**(只返回第一个满足条件的索引号）**；如果不存在，返回-1 |
      | lastIndexOf（） | 在数组中的最后一个的索引（从后面开始查找）     | 如果存在，返回索引号；如果不存在，返回-1                     |

    - ```js
      var arr = [1,2,3,4,3];
      console.log(arr.indexOf(3));               //返回2
      console.log(arr.lastIndexOf(3));       //返回4
      ```

      

  - 数组转换为字符串

    - | 方法名         | 说明                                       | 返回值                                             |
      | -------------- | ------------------------------------------ | -------------------------------------------------- |
      | toString()     | 把数组转换成字符串，**逗号分隔每一项**     | 返回一个字符串                                     |
      | join('分隔符') | 方法用于把数组中的所有元素转换为一个字符串 | 返回一个字符串                                     |
      | concat()       | 连接两个或多个数组，不影响原数组           | 返回一个新的数组                                   |
      | slice()        | 数组截取slice（begin，end）                | 返回被截取项目的新数组                             |
      | splice()       | 数组删除splice（第几个开始，要删除个数）   | 返回被删除项目的新数组，注意：**这个会影响原数组** |

    - ```js
      var arr = [1,2,3];
      console.log(arr.toString());     //1,2,3
      var arr1 = ['green','blue','pink'];
      console.log(arr1.join());        //green,blue,pink
      console.log(arr1.join('-'));       //green-blue-pink
      ```

      

- 字符串对象

  - 基本包装类型

    - 就是把简单数据类型包装为复杂数据类型

    - ```js
      var str;
      1.把简单数据类型包装为复杂数据类型
      var temp = new String('andy');
      2.把临时变量的值给str
      str = temp;
      3.销毁这个临时变量
      temp = null;
      ```

    - 为了方便操作基本数据类型，JavaScript还提供了三个特殊的引用类型：String、Number和Boolean

      基本包装类型就是把简单数据类型包装成为复杂数据类型，这样基本数据类型就有了属性和方法

  - 字符串的不可变性

    - 因为字符串的不可变性，所以不要大量拼接字符
    - 字符串改变是新开辟了一个空间存储，并将变量名指向新的空间，即原来的空间不变

  - 根据字符返回位置

    - 字符串所有的方法，都不会修改字符串本身（字符串是不可变的），操作完成会返回一个新的字符串

    - | 方法名                              | 说明                                                         |
      | ----------------------------------- | ------------------------------------------------------------ |
      | indexOf('要查找的字符'，开始的位置) | 返回指定内容在元字符串中的位置，如果找不到就返回-1，开始的位置是index索引号 |
      | lastIndexOf()                       | 从后往前找，只找第一个匹配的                                 |

  - **<u>根据位置返回字符</u>**

    - | 方法名            | 说明                                       | 使用                           |
      | ----------------- | ------------------------------------------ | ------------------------------ |
      | charAt(index)     | 返回指定位置的字符（index字符串的索引号）  | str.charAt(0)                  |
      | charCodeAt(index) | 获取指定位置处字符的ASCII码（index索引号） | str.charCodeAt(0)              |
      | str[index]        | 获取指定位置处字符                         | HTML5,IE8+支持和charAt（）等效 |

      

  - **<u>字符串操作方法</u>**

    - | 方法名                                  | 说明                                                         |
      | --------------------------------------- | ------------------------------------------------------------ |
      | concat(str1,str2,str3...)               | concat（）方法用于连接两个或多个字符串，拼接字符串，等效于+，+更常用 |
      | substr(start,length)                    | 取出所选的字符串，从start位置开始（索引号），length为取的个数 |
      | slice(start,end)                        | 返回被截取项目的新数组，从start位置开始，截取到end位置，**end取不到**（它们都是索引号） |
      | substring(start,end)                    | 返回截取的字符串，从strat位置开始，截取到end位置，**end取不到**，基本和slice相同，但是不接受负值 |
      | replace('被替换的字符'，‘替换为的字符’) | 只会替换第一个字符                                           |
      | split（‘分隔符’）                       | 将字符转换为数组,分隔符取决于字符串用什么隔开的              |
      | toUpperCase()                           | 转换大写                                                     |
      | toLowerCase()                           | 转换小写                                                     |

    - ```js
      var str = 'andy';
      console.log(str.concat('red'));
      
      var str1 = '改革春风吹满地'；
      console.log(str1.substr(2,2));      //第一个2是索引号的2，第二个2是取几个字符
      
      var str2 = 'andyandy';
      console.log(str.replace('a','b'));
      
      var str3 = 'red,pink,blue';
      console.log(str3.split(','));           //["red","pink","blue"]
      var str4 = 'red&pink&blue';
      console.log(str4.splot('&'));
      ```

      

- 简单数据类型与复杂数据类型

  - 简单类型又叫做基本数据类型或者值类型，复杂类型又叫做引用类型

    - 值类型：简单数据类型/基本数据类型，在存储时变量中存储的是值本身，因此叫做值类型

      -   string、number、boolean、undefined、null

      -   null返回的是一个空的对象，如果有个变量以后打算存储为对象，暂时没想好放什么，就放null

    - 引用类型：复杂数据类型，在存储时变量中存储的仅仅是地址（引用），因此叫做引用数据类型

      - 通过new关键字创造的对象（系统对象、自定义对象），如Object、Array、Date等

      

  - 堆和栈

    - 栈（操作系统）：由操作系统自动分配释放存放函数的参数值、局部变量的值等。其操作方式类似于数据结构中的栈；**简单数据类型存放到栈里面**

    - 堆（操作系统）：存储复杂类型（对象），一般由程序员分配释放，若程序员不释放，由垃圾回收机制回收，**复杂数据类型存放到堆里面**

    - 1.简单数据类型，是存放在栈里面，里面直接开辟一个空间，存放的是值

      2.复杂数据类型，首先在栈里面存放地址，十六进制表示，然后这个地址指向堆

      

  - 简单数据类型传参

    - 函数的形参可以看作是一个变量，当我们把一个值类型作为参数传给函数的形参时，其实是把变量在栈空间里的值复制了一份给形参，那么在方法内部做任何修改，都不会影响到外部变量

    - ```js
      function fn(a) 
      {
      a++;
          console.log(a);
      }
      var x = ;
      fn(x);
      console.log(x);
      ```

      

  - 复杂数据类型传参

    - 函数的形参可以看作是一个变量，当我们把引用类型变量传给形参时，其实是把变量在栈空间里保存的堆地址复制给了形参，形参和实参保存同一个堆地址，使用操作同一个对象

    
