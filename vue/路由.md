## 路由

- 前端路由的概念与原理
  - 什么是路由
    - 路由（router），就是**对应关系**
  - SPA（单页面应用程序）与前端路由
    - SPA指的是一个web网站只有唯一的一个HTML页面**，所有组件的展示与切换**都在这唯一的一个页面内完成。此时，**不同组件之间的切换**需要通过**前端路由**来实现
    - 什么是前端路由：**Hash地址**（#）与**组件**之间的**对应关系**
    - Hash地址就是地址中#后面的部分
  - 前端路由的工作方式
    - 用户**点击了**页面上的**路由链接（a链接）**
    - 导致了**URL地址栏**中的**Hash值**发生了变化
    - **前端路由监听到了Hash地址的变化**
    - 前端路由把当前**Hash地址对应的组件**渲染到浏览器中
    - 结论：前端路由，指的是**Hash地址**与**组件之间**的**对应关系**



- vue-router的基本使用

  - 什么是vue-router

    - vue-router是vue.js官方给出的路由解决方案。他只能结合vue项目进行使用，能够轻松地管理SPA项目中组件的切换
    - vue-router的官方文档地址： https://router.vuejs.org/zh/

  - vue-router安装和配置的步骤

    - 安装vue-router包

      - 在vue2的项目中，安装vue-router的命令如下：

        ```js
        npm i vue-router@3.5.2 -S
        ```

    - **创建路由模块**

      - 在**src**源代码目录下，新建**router/index.js**路由模块，并初始化如下的代码：

        ```js
        //1. 导入Vue和VueRouter的包
        import Vue from 'vue'
        import VueRouter from 'vue-router'
        
        // 2. 调用Vue.use()函数，把VueRouter安装为Vue的插件
        Vue.use(VueRouter)
        
        // 3. 创建路由的实例对象
        const router = new VueRouter()
        
        // 4. 向外共享路由的实例对象
        export default router
        ```

    - 导入并挂载路由模块

      - 首先在main.js导入

        ```js
        import router from '@/router/index.js'
        // 在进行模块化导入的时候，如果给定的是文件夹，则默认导入这个文件夹下，名字叫做index.js的文件
        // 故也可写为： import router from '@/router
        ```

      - 然后再下方new Vue里面挂载

        ```js
        new Vue({
          render: h => h(App),
          // 在Vue项目中，要想把路由用起来，必须把路由实例对象，通过下面的方式进行挂载
          // router： 路由的实例对象
          router: router
        }).$mount('#app')
        ```

    - 声明**路由链接**和**占位符**

      - 在index.js中的创建路由的实例对象处

        ```js
        // 上方要导入组件
        import Home from '@/components/Home.vue'
        import About from '@/components/About.vue'
        import Movie from '@/components/Movie.vue'
        
        // 3. 创建路由的实例对象
        const router = new VueRouter({
          // routes是一个数组，作用： 定义"hash地址" 与 "组件"之间的对应关系
          routes: [
            { path: '/home', component: Home},
            { path: '/movie', component: Movie},
            { path: '/about', component: About}
          ]
        })
        ```

  - 使用router-link替代a链接

    - ```html
          <!-- <a href="#/home">首页</a> -->
          <router-link to="/home">首页</router-link>
          <!-- <a href="#/movie">电影</a> -->
          <router-link to="/movie">电影</router-link>
          <!-- <a href="#/about">关于</a> -->
          <router-link to="/about">关于</router-link>
      ```

    - 如果使用router-link，那么to就相当于href，然后#可以省略不用写

  - 使用redirect重定向

    - 路由重定向

      - 路由重定向指的是： 用户在访问地址A的时候，强制用户跳转到地址C，从而展示特定的组件页面。通过路由规则的redirect属性，指定一个新的路由地址，可以很方便地设置路由的重定向

        ```js
        const router = new VueRouter({
            // 在routes 数组中，声明路由的匹配规则
            routes: [
                // 当用户访问/的时候，通过redirect属性跳转到/home对应的路由规则
                { path:'/', redirect: '/home'},
                { path: '/home', component: Home},
                { path: '/movie', component: Movie},
                { path: '/about', component: About}
            ]
        })
        ```

      

  - 嵌套路由

    - 通过路由实现**组件的嵌套展示**，叫做嵌套路由

    - 通过children属性声明子路由规则

      - 在src/router/index.js路由模块中，导入需要的组件，并使用children属性声明子路由规则：

        ```js
        import Tab1 from '@/components/tabs/Tab1.vue'
        import Tab2 from '@/components/tabs/Tab2.vue'
        
        const router = new VueRouter({
            routes: [
                {  // about页面的路由规则（父级路由规则）
                    path: 'about',
                    component: About,
                    children: {  // 1.通过children属性，嵌套声明子级路由规则
                        { path: 'tab1', component:Tab1 }, // 2. 访问/about/tab1时，展示Tab1组件
                        { path: 'tab2', component:Tab2 }, // 2. 访问/about/tab2时，展示Tab2组件
                    }
                }
            ]
        })
        
        // 注意：在子路由组件前面不用加  /
        ```

    - 默认子路由：如果children数组中，某个路由规则的path值为空字符串，则这条路由规则，叫做"默认子路由"

    - 

    - d

  - 

  - 

  - 

  - 

  - 

  - 

  - d

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- 

- d













































































































































